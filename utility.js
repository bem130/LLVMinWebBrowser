function safeQuote(a){return a.replace(/"/g,'\\"').replace(/'/g,"\\'")}function dump(d){try{return"// "+JSON.stringify(d,null,"  ").replace(/\n/g,"\n// ")}catch(f){var b=[];for(var c in d){var a=d[c];if(typeof a==="string"||typeof a==="number"){b.push(c+": "+a)}else{b.push(c+": [?]")}}return b.join(",\n")}}function dumpKeys(d){var b=[];for(var c in d){var a=d[c];if(typeof a==="string"||typeof a==="number"){b.push(c+": "+a)}else{b.push(c+": [?]")}}return b.join(", ")}function assertEq(d,c){if(d!==c){printErr("Stack: "+new Error().stack);throw"Should have been equal: "+d+" : "+c}return false}function assertTrue(b,c){if(!b){c="Assertion failed: "+c;print(c);printErr("Stack: "+new Error().stack);throw c}}var assert=assertTrue;function warn(b,c){if(!c){c=b;b=false}if(!b){printErr("Warning: "+c)}}function warnOnce(b,c){if(!c){c=b;b=false}if(!b){if(!warnOnce.msgs){warnOnce.msgs={}}if(c in warnOnce.msgs){return}warnOnce.msgs[c]=true;printErr("Warning: "+c)}}function dedup(b,c){var a={};if(c){return b.filter(function(d){if(a[d[c]]){return false}a[d[c]]=true;return true})}else{return b.filter(function(d){if(a[d]){return false}a[d]=true;return true})}}function range(c){var a=[];for(var b=0;b<c;b++){a.push(b)}return a}function zeros(c){var a=[];for(var b=0;b<c;b++){a.push(0)}return a}function spaces(c){var a="";for(var b=0;b<c;b++){a+=" "}return a}function keys(b){var d=[];for(var c in b){d.push(c)}return d}function values(b){var d=[];for(var c in b){d.push(b[c])}return d}function bind(a,b){return function(){b.apply(a,arguments)}}function sum(a){return a.reduce(function(d,c){return d+c},0)}function sumTruthy(a){return a.reduce(function(d,c){return(!!d)+(!!c)},0)}function sumStringy(a){return a.reduce(function(d,c){return d+c},"")}function filterTruthy(a){return a.filter(function(b){return !!b})}function loopOn(c,b){for(var a=0;a<c.length;a++){b(a,c[a])}}function splitter(d,a){var c=d.filter(a);var b=d.filter(function(e){return !a(e)});return{leftIn:b,splitOut:c}}function dcheck(a){return DEBUG_TAGS_SHOWING.indexOf(arguments[0])!=-1}var DPRINT_INDENT="";function dprint_indent(){DPRINT_INDENT+="   "}function dprint_unindent(){DPRINT_INDENT=DPRINT_INDENT.substr(3)}function dprint(){var a;if(arguments[1]){if(!dcheck(arguments[0])){return}a=arguments[1]}else{a=arguments[0]}if(typeof a==="function"){a=a()}a=DPRINT_INDENT+"// "+a;printErr(a)}var PROF_ORIGIN=Date.now();var PROF_TIME=PROF_ORIGIN;function PROF(a){if(!a){dprint("Profiling: "+((Date.now()-PROF_TIME)/1000)+" seconds, total: "+((Date.now()-PROF_ORIGIN)/1000))}PROF_TIME=Date.now()}function concatenator(a,b){return a.concat(b)}function mergeInto(b,a){for(i in a){b[i]=a[i]}return b}function isNumber(a){return a==parseFloat(a)||(typeof a=="string"&&a.match(/^-?\d+$/))}function isArray(a){try{return typeof a==="object"&&"length" in a&&"slice" in a}catch(b){return false}}function flatten(a){if(typeof a!=="object"){return[a]}function f(g){if(typeof g!=="object"){return 1}else{return sum(g.map(f))}}var d=f(a);var c=new Array(d);var b=0;function e(h){for(var g=0;g<h.length;g++){if(typeof h[g]!=="object"){c[b++]=h[g]}else{e(h[g])}}}e(a);assert(b==d);return c}function set(){var b=typeof arguments[0]==="object"?arguments[0]:arguments;var a={};for(var c=0;c<b.length;c++){a[b[c]]=0}return a}var unset=keys;function setSub(a,c){var b=set(keys(a));for(yy in c){if(yy in b){delete b[yy]}}return b}function setIntersect(a,c){var b={};for(xx in a){if(xx in c){b[xx]=true}}return b}function invertArray(a){var b={};for(var c=0;c<a.length;c++){b[a[c]]=c}return b}function copy(a){return JSON.parse(JSON.stringify(a))}function jsonCompare(a,b){return JSON.stringify(a)==JSON.stringify(b)}function stringifyWithFunctions(a){if(typeof a==="function"){return a.toString()}if(a===null||typeof a!=="object"){return JSON.stringify(a)}if(isArray(a)){return"["+a.map(stringifyWithFunctions).join(",")+"]"}else{return"{"+keys(a).map(function(b){return b+":"+stringifyWithFunctions(a[b])}).join(",")+"}"}}function sleep(a){var b=Date.now();while(Date.now()-b<a*1000){}}function log2(a){return Math.log(a)/Math.LN2}function isPowerOfTwo(a){return a>0&&((a&(a-1))==0)}function Benchmarker(){var b={},c={},a={};this.start=function(d){b[d]=(b[d]||[]).concat([Date.now()])};this.stop=function(d){assert(b[d],new Error().stack);c[d]=(c[d]||0)+Date.now()-b[d].pop();a[d]=(a[d]||0)+1;this.print()};this.print=function(){var d=keys(c);d.sort(function(f,e){return c[e]-c[f]});printErr("times: \n"+d.map(function(e){return e+" : "+a[e]+" times, "+c[e]+" ms"}).join("\n"))}};